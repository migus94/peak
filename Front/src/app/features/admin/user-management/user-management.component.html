<div class="users">
    <h2>Usuarios</h2>
    @if (users.length > 0) {
        <p-table [value]="users" [stripedRows]="true" [responsiveLayout]="'scroll'" styleClass="p-datatable-sm">
            <ng-template pTemplate="header">
                <tr>
                <th>Nombre</th>
                <th>Email</th>
                <th>Role</th>
                <th>Acciones</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-user>
                <tr>
                <td>{{ user.name }}</td>
                <td>{{ user.email }}</td>
                <td (click)="changeRole(user.publicId)" class="clickable-role">{{ user.rol }}</td>
                <td>
                    <button 
                        pButton 
                        type="button" 
                        label="Eliminar" 
                        severity="danger" 
                        (click)="deleteUser(user.publicId)"
                        class="p-button-sm">
                    </button>
                    <button 
                        pButton 
                        type="button" 
                        icon="pi pi-pencil" 
                        class="warning-btn" 
                        disable="true"
                        label="Editar"
                    ></button>
                </td>
                </tr>
            </ng-template>
        </p-table>
    } @else {
        <p>No hay usuarios registrados.</p>
    }
</div>